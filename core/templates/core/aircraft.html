{% extends "core/base.html" %}
{% block title %}Letadla{% endblock %}

{% block content %}
<!-- 游띪 Horn치 li코ta s vyh쬬d치van칤m -->
<div id="searchBar" class="position-sticky top-0 bg-white border py-2 px-3 d-flex align-items-center justify-content-between rounded-3 shadow-sm" style="z-index: 1020;">
  <div class="d-flex align-items-center flex-grow-1 me-3">
    <span class="material-icons text-muted me-2">search</span>
    <input id="searchInput" type="text" class="form-control" placeholder="H쬬da콘 pod쬬 registra캜n칠ho 캜칤sla...">
    <button class="btn btn-outline-secondary ms-2">H쬬da콘</button>
  </div>
  <button class="btn btn-success">+ Prida콘 lietadlo</button>
</div>

<!-- 游 Tabu쬶a -->
<div class="bg-white border rounded-3 shadow-sm mt-3 p-3" style="max-height: calc(100vh - 220px); overflow-y: auto;">
  <table class="table table-hover align-middle mb-0">
    <thead class="table-light position-sticky top-0">
      <tr>
        <th class="align-middle">
          <div class="d-flex align-items-center justify-content-between" style="min-width: 180px;">
            <button class="btn text-dark fw-bold p-0 column-btn active-column" data-field="registration">
              Registra캜n칠 캜칤slo
            </button>
            <span class="material-icons sort-icon text-muted">arrow_circle_down</span>
          </div>
        </th>
        <th class="align-middle">
          <div class="d-flex align-items-center justify-content-between" style="min-width: 150px;">
            <button class="btn text-dark fw-bold p-0 column-btn" data-field="type">
              Typ
            </button>
            <span class="material-icons sort-icon text-muted">arrow_circle_down</span>
          </div>
        </th>
        <th class="align-middle">
          <div class="d-flex align-items-center justify-content-between" style="min-width: 180px;">
            <button class="btn text-dark fw-bold p-0 column-btn" data-field="owner">
              Majite
            </button>
            <span class="material-icons sort-icon text-muted">arrow_circle_down</span>
          </div>
        </th>
        <th class="text-end"></th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td>OK-ABC</td>
        <td>Cessna 172</td>
        <td>J치n Nov치k</td>
        <td class="text-end">
          <div class="d-flex justify-content-end gap-2">
            <button class="btn btn-sm btn-outline-primary" title="Upravi콘"><span class="material-icons">edit</span></button>
            <button class="btn btn-sm btn-outline-secondary" title="Detail"><span class="material-icons">visibility</span></button>
            <button class="btn btn-sm btn-outline-danger" title="Odstr치ni콘"><span class="material-icons">delete</span></button>
          </div>
        </td>
      </tr>

      <tr>
        <td>OK-LHJ</td>
        <td>Piper PA-28</td>
        <td>Aeroklub JH</td>
        <td class="text-end">
          <div class="d-flex justify-content-end gap-2">
            <button class="btn btn-sm btn-outline-primary" title="Upravi콘"><span class="material-icons">edit</span></button>
            <button class="btn btn-sm btn-outline-secondary" title="Detail"><span class="material-icons">visibility</span></button>
            <button class="btn btn-sm btn-outline-danger" title="Odstr치ni콘"><span class="material-icons">delete</span></button>
          </div>
        </td>
      </tr>

      <tr>
        <td>OK-ZUL</td>
        <td>Diamond DA40</td>
        <td>Peter Klep치캜</td>
        <td class="text-end">
          <div class="d-flex justify-content-end gap-2">
            <button class="btn btn-sm btn-outline-primary" title="Upravi콘"><span class="material-icons">edit</span></button>
            <button class="btn btn-sm btn-outline-secondary" title="Detail"><span class="material-icons">visibility</span></button>
            <button class="btn btn-sm btn-outline-danger" title="Odstr치ni콘"><span class="material-icons">delete</span></button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- 游대 Interaktivita -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const buttons = document.querySelectorAll('.column-btn');
    const icons = document.querySelectorAll('.sort-icon');
    const searchInput = document.getElementById('searchInput');

    const placeholders = {
      registration: 'H쬬da콘 pod쬬 registra캜n칠ho 캜칤sla...',
      type: 'H쬬da콘 pod쬬 typu...',
      owner: 'H쬬da콘 pod쬬 majite쬬...'
    };

    // Klik na text (v칳ber st컄pca)
    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        buttons.forEach(b => b.classList.remove('active-column'));
        btn.classList.add('active-column');

        const field = btn.dataset.field;
        searchInput.placeholder = placeholders[field];
      });
    });

    // Klik na ikonu (ot치캜anie 코칤pky)
    icons.forEach(icon => {
      icon.addEventListener('click', () => {
        icon.textContent =
          icon.textContent === 'arrow_circle_down'
            ? 'arrow_circle_up'
            : 'arrow_circle_down';
      });
    });
  });
</script>
{% endblock %}
